# 用户手册

## 启动
- 运行：`streamlit run web_ui.py --server.port 8501`
- 浏览器访问：`http://localhost:8501`

## 上传入库
- 选择文件并点击“开始入库”
- 已入库文件会在“已入库文件”列表显示
- 重复文件默认跳过并提示，可关闭“遇到已入库文件：自动跳过并提示”
- 历史同步：点击“从 Milvus 同步”，可将历史 grandpa_id 同步到本地记录
- 自动命名：对于“(未知)”条目，点击“自动命名并保存”生成标题并持久化

## 查询聊天
- 在“查询”页聊天框输入问题，系统结合最近 5 轮上下文回答
- 可点击“清空对话”重置上下文
- 可在侧边栏“LLM 配置”选择 OpenAI、Claude、Qwen、Ollama、vLLM 或自定义
- 提供一键应用常见服务商配置

## 日志与留存
- 运行日志：`logs/app.log`
- 问答留存：`logs/conversations.jsonl`（每行一个 JSON，包含请求与响应、Provider、模型、耗时等）

## 常见问题
- 重复入库提示：遇到已入库文件会提示并跳过，不是报错
- 信息不足：上下文不足时会用通用知识回答并标注【通用知识】
- 名称为“(未知)”：可手动输入名称或自动命名并保存

