# 文档问答系统

## 1. 概述

设计并实现一款基于人工智能的智能文档问答系统，支持用户上传多种格式的文档，通过自然语言查询获取精准答案。

## 2. 功能需求

### 文档管理

  1:初始化文档

- 支持上传 TXT 和 Markdown,PDF、Word 格式的文档等一下文档都要支持.

- ```
  # 1：定义支持的文档类型（文件扩展名）
  document_loads = {
      # 文本文件使用 TextLoader
      ".txt": TextLoader,
      # PDF文件使用 OCRPDFLoader
      ".pdf": OCRPDFLoader,
      # 文档文件使用 OCRDOCLoader
      ".doc": OCRDOCLoader,
      ".docx": OCRDOCLoader,
      # PPT文件使用 OCRPPTLoader
      ".ppt": OCRPPTLoader,
      ".pptx": OCRPPTLoader,
      # 图片文件使用 OCRIMGLoader
      ".jpg": OCRIMGLoader,
      ".png": OCRIMGLoader,
      ".jpeg": OCRIMGLoader,
      # md 文件使用 UnstructuredMarkdownLoader
      ".md": UnstructuredMarkdownLoader,
  }
  
  ```

- 把C:\Users\dujiaojiao\Desktop\q_w_System\人工智能就业课课程大纲.md

  和C:\Users\dujiaojiao\Desktop\q_w_System\人工智能就业课课程大纲.txt

- 通过url:C:\Users\dujiaojiao\Desktop\q_w_System\model\bge-m3 进行分块解析

- 按照以下分块

- ```
  # 检索参数配置
  [retrieval]
  parent_chunk_size = 1200
  child_chunk_size = 300
  chunk_overlap = 50
  retrieval_k = 5
  candidate_m = 2
  ```

  保存到milvus向量数据库中

  要求:milvus向量数据库

  ```
  链接地址:
  [milvus]
  host = 192.168.88.101
  port = 19530
  # 记得创建这个表
  database_name = xxs
  collection_name = edurag_sh01
  
  mivus向量数据库中的id:md5的id  text:字块文本数据  dense_vector:子块稠密向量 sparse_vector:稀疏向量  parend_id:父块id  parend_context:父块内容
  ```

  2:用户查询

  ```
  通过BGE-M3生成稠密和稀疏向量
  ```

  

- 对文档进行解析与存储

- 支持文档的查询、删除等操作

### 问答功能

- 响应用户问题，生成准确、连贯的答案
- 支持多轮对话，保持上下文连贯性

### 系统管理

- 支持配置不同的人工智能服务提供商（OpenAI、Claude、本地模型等）
- 记录用户查询内容及系统响应结果，以便后续分析与优化

## 3. 非功能需求

- 采用 Python 开发，具备完整的单元测试
- 能够构建 Docker 镜像并实际运行
- 可适配任意人工智能接口（OpenAI、Claude、本地模型等）
- 提供完整文档（架构设计文档、用户手册、接口文档等）

## 4. 附加功能

- 支持多种文档格式（PDF、Word 等）
- 提供 Web 用户界面（Web UI）

